{% load humanize %}

{% if type == 1 %}
<div class='product-card' style='width: 200px !important; margin-left: 12px;'>
    <div class="product-card__image">
        <a href="{{product.get_absolute_url}}">

            <img src="{{media_url}}{{product.image_name}}" alt="تصویر">
        </a>
    </div>
    <div class="product-card__info">
        <div class="product-card__name">
            <a href="{{product.get_absolute_url}}">
                {{product.product_name}}
            </a>
        </div>
    </div>
    <div class="product-card__actions">
        {% if product.get_number_in_warehose <= 0 %}
            <span style='color:red;'>نا موجود</span>
        {% else %}
        {% if product.price > product.get_price_by_discount %}
        <div class="product-card__prices"> 
            <del style='color:red;'> {{product.price|intcomma:False}} تومان </del>
        </div>
        <div class="product-card__prices" style='color:green;'> 
            {{product.get_price_by_discount|intcomma:False}} تومان 
        </div>
        {% else %}
            {{product.price|intcomma:False}} تومان 
        {% endif %}
        {% endif %}

        <div class="product-card__buttons">
            {% if product.get_number_in_warehose > 0 %}
            <button class="btn btn-primary product-card__addtocart"
                type="button" onclick="add_to_shop_cart({{product.id}},1)">
                افزودن به سبد
            </button>
            {% endif %}

            {% if user.is_authenticated %}
                {% if product.get_user_favorite %}
                    <button
                        class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__wishlist"
                        type="button">
                        <i class="fa fa-heart text-danger"></i>
                        <span
                            class="fake-svg-icon fake-svg-icon--wishlist-16"></span>
                    </button>
                {% else %}
                    <button
                        class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__wishlist"
                        type="button" onclick="addToFavorites({{product.id}})">
                        <i class="fa fa-heart"></i> 
                        
                        <span
                            class="fake-svg-icon fake-svg-icon--wishlist-16"></span>
                    </button>
                {% endif %}    
            {% endif %}        
        </div>
    </div>
</div>
{% elif type == 2 %}
<div class='product-card' style='width: 200px !important; margin-left: 12px;'>
    <div class="product-card__image">
        <a href="{{product.get_absolute_url}}">

            <img src="{{media_url}}{{product.image_name}}" alt="تصویر">
        </a>
    </div>
    <div class="product-card__info">
        <div class="product-card__name">
            <a href="{{product.get_absolute_url}}">
                {{product.product_name}}
            </a>
        </div>
    </div>
    <div class="product-card__actions">
        {% if product.get_number_in_warehose <= 0 %}
            <span style='color:red;'>نا موجود</span>
        {% else %}
        {% if product.price > product.get_price_by_discount %}
        <div class="product-card__prices"> 
            <del style='color:red;'> {{product.price|intcomma:False}} تومان </del>
        </div>
        <div class="product-card__prices" style='color:green;'> 
            {{product.get_price_by_discount|intcomma:False}} تومان 
        </div>
        {% else %}
            {{product.price|intcomma:False}} تومان 
        {% endif %}
        {% endif %}
        <div class="product-card__buttons">
            {% if product.get_number_in_warehose > 0 %}
            <button class="btn btn-primary product-card__addtocart"
                type="button" onclick="add_to_shop_cart({{product.id}},1)">
                افزودن به سبد
            </button>
            {% endif %}
            {% if user.is_authenticated %}
                {% if product.get_user_favorite %}
                    <button
                        class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__wishlist"
                        type="button">
                        <i class="fa fa-heart text-danger"></i>
                        <span
                            class="fake-svg-icon fake-svg-icon--wishlist-16"></span>
                    </button>
                {% else %}
                    <button
                        class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__wishlist"
                        type="button" onclick="addToFavorites({{product.id}})">
                        <i class="fa fa-heart"></i> 
                        
                        <span
                            class="fake-svg-icon fake-svg-icon--wishlist-16"></span>
                    </button>
                {% endif %}    
            {% endif %}  
        </div>
    </div>
</div>
{% elif type == 3 %}
<div class="products-list__item">
    <div class="product-card">
        {% comment %} <div class="product-card__badges-list">
            <div class="product-card__badge product-card__badge--new">جدید</div>
        </div> {% endcomment %}
        <div class="product-card__image">
            <a href="{{product.get_absolute_url}}">
                <img src="{{media_url}}{{product.image_name}}" alt="{{product.product_name}}">
            </a>
        </div>
        <div class="product-card__info">
            <div class="product-card__name"><a href="{{product.get_absolute_url}}">{{product.product_name}}</a> </div>

        </div>
        <div class="product-card__actions">
            {% if product.get_number_in_warehose <= 0 %}
                <span style='color:red;'>نا موجود</span>
            {% else %}
            {% comment %} <div class="product-card__availability">موجودی: <span class="text-success">موجود در انبار</span></div> {% endcomment %}
            {% if product.price > product.get_price_by_discount %}
            <div class="product-card__prices"> 
                <del style='color:red;'> {{product.price|intcomma:False}} تومان </del>
            </div>
            <div class="product-card__prices" style='color:green;'> 
                {{product.get_price_by_discount|intcomma:False}} تومان 
            </div>
            {% else %}
                {{product.price|intcomma:False}} تومان 
            {% endif %}
            {% endif %}
            {% if user.is_authenticated %}
            {% if product.get_user_favorite %}
                <button
                    class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__wishlist"
                    type="button">
                    <i class="fa fa-heart text-danger"></i>
                    <span
                        class="fake-svg-icon fake-svg-icon--wishlist-16"></span>
                </button>
            {% else %}
                <button
                    class="btn btn-light btn-svg-icon btn-svg-icon--fake-svg product-card__wishlist"
                    type="button" onclick="addToFavorites({{product.id}})">
                    <i class="fa fa-heart"></i> 
                    
                    <span
                        class="fake-svg-icon fake-svg-icon--wishlist-16"></span>
                </button>
            {% endif %}    
        {% endif %}  
            <div class="product-card__buttons">
                {% if product.get_number_in_warehose > 0 %}
                <button class="btn btn-primary product-card__addtocart" type="button" onclick="add_to_shop_cart({{product.id}},1)">افزودن به سبد</button>
                <button class="btn btn-secondary product-card__addtocart product-card__addtocart--list" type="button" onclick="add_to_shop_cart({{product.id}},1)">افزودن به سبد</button>
                {% endif %}
            </div>
            
        </div>
    </div>
    </div>
{% endif %}

